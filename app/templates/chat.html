<div id="chat" class="col-sm-8 col-md-9">
  <header>
    <input id="chat-name" type="text" ng-model="chat.name" />
    <label for="chat-header" ng-if="chatNameSelected">Press enter to save name</label>
    <button class="btn btn-success"id="add-to-chat-button" style="float:right;"
        ng-click="openAddToChat()">+</button>
    <ul ng-show="addToChatVisible">
      <li ng-repeat="contact in contacts track by $index">
        <label for="add-to-group-{{$index}}">{{contact.info.name}}</label>
        <input type="checkbox" ng-model="contact.selected" id="add-to-group-{{$index}}" />
      </li>
      <li>
        <button ng-click="addSelectedToChat()">Add!</button>
        <button ng-click="addToChatVisible = false">Cancel</button>
      </li>
    </ul>
  </header>

  <div id="chat-body">
    <ul id="chat-log">
      <li ng-repeat="message in chat.log"><p class = "speech">
      {{formatMessage(users[message.user], message.msg)}}
      <span class="timestamp">{{message.timestamp}}<span>
    </p></li>
      </ul>
    </div>

  <footer>
    <!--<div id="typing_on"></div>-->

    <form ng-submit="sendChat()">
    <input id="chatbar" type="text"
        onkeypress="setTimeout(isTyping(),4000); setInterval(notTyping,5000)"
        ng-model="chatBoxText"
        placeholder="Type here to chat"
        value =""/>
    <emoji-picker></emoji-picker>
    </form>
  </footer>
</div>
